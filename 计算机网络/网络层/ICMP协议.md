# ICMP协议 
桥梁作用



支持主机或路由器：差错或异常报告，网络探询

发送特定ICMP报文


ICMP报文装在ip数据报的数据部分


![](https://files.mdnice.com/user/8332/f3879350-5b7b-4baa-a895-710a09c68f32.png)


## ICMP差错报告报文(5种)

![](https://files.mdnice.com/user/8332/c2525555-aae3-4276-9417-c44400a72080.png)



![](https://files.mdnice.com/user/8332/6f38313a-4d61-46ab-8d72-c7fcdf7ad536.png)

## 不应发送ICMP差错报文的情况

![](https://files.mdnice.com/user/8332/335c1c62-3fe6-453c-8981-192621c803aa.png)

## ICMP询问报文

![](https://files.mdnice.com/user/8332/32fc22ff-9387-422f-98c7-e4f1ca090186.png)

## ICMP的应用
- PING

- Traceroute



![](https://files.mdnice.com/user/8332/968014de-8dd3-4369-b3b1-c00937c0f376.png)

