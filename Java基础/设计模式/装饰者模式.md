# 装饰者模式
![](https://files.mdnice.com/user/8332/712c52bc-7e68-4d58-93c4-f012e97b3565.png)
## 问题分析
### 方案1
1. Drink是一个抽象类，表示饮料
2. des就是对咖啡的描述，比如咖啡的名字
3. cost()方法就是计算费用，Drink类中做成一个抽象的方法
4. Decaf就是单品咖啡，继承Drink，并实现cost
5. Espress&&Milk就是单品咖啡+调料，这个组合很多
6. 这样设计，会有很多类，当我们增加一个单品咖啡，或者一个新的调料，类的数量就会倍增，就会出现类爆炸问题
### 方案2

![](https://files.mdnice.com/user/8332/c8158446-abb6-4401-a1a5-d90e86af78fc.png)


## 定义
动态的将新功能附加到对象上，在对象功能扩展方面，它比继承更有弹性，装饰者模式也体现了开闭原则(OCP)

![](https://files.mdnice.com/user/8332/ed9877ff-a408-419a-8d13-a02d4d116fea.png)



![](https://files.mdnice.com/user/8332/6e629cbf-6342-4d01-905c-67f59cc6ce34.png)





## JDK 源码 应用

![](https://files.mdnice.com/user/8332/175cd107-1ba5-41e9-b9e7-c76af5cd30c5.png)
