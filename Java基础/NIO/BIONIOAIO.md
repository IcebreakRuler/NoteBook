## BIO的缺点
1. 阻塞：在读取数据的时候，只要读不到就会一直等待；在写入数据的时候，如果写不出去也会一直等待
2. 一对一连接：客户端每发送一个连接，服务端都需要创建一个线程接受处理这个连接。如果产生大量的客户端，服务端就会产生大量的线程，线程一旦过多，就会导致服务端卡顿甚至崩溃
3. 如果一个连接建立之后保持连接但是不做任何操作，导致服务端对应的线程无法释放。如果产生大量的无用连接导致服务器端的线程不断被占用，致使资源造成浪费。
4. 单向传输：读取数据需要创建输入流，写出数据需要创建输出流，也就意味着完成一次传输需要创建多个流，导致产生多个对象致使服务器资源的浪费



## NIO和BIO的比较
1. BIO以流的方式处理数据，而NIO以块的方式来处理数据，块I/O的效率比流I/O高很多
2. BIO是阻塞的，NIO则是非阻塞的
3. BIO基于字节流和字符流进行操作，而NIO基于Channel(通道)和Buffer(缓冲区)进行操作，数据总是从通道读取到缓冲区中，或者从缓冲区写入到通道中。Selector(选择器)用于监听多个通道的事件。(比如：连接请求，数据到达等)，因此使用单个线程可以监听多个客户端通道。

NIO:面向缓冲区，非阻塞，选择器

BIO:面向流，阻塞IO




![](https://files.mdnice.com/user/8332/82efe106-ef5a-46a8-9de6-16483e2497a9.png)

## Buffer缓冲区
缓冲区本质上就是一块可以写入数据，然后可以从中读取数据的内存。这块内存被包装成了NIO Buffer对象，并提供了一组方法，用来方便的访问该块内存，相比较直接对数组的操作，Buffer API更加容易操作和管理。

## Channel通道
Java NIO的通道类似流，但又有些不同，既可以从通道中读取数据，又可以写数据到通道。但流的(input或output)读写是单向的。通道可以非阻塞读取和写入通道。通道可以支持读取或写入缓冲区，也支持异步的读写。

## Selector选择器
Selector是一个Java NIO组件，可以能够检查一个或多个NIO通道，并确定哪些通道已经准好进行读取或写入。这样，一个单独的线程可以管理多个channel，从而管理多个网络连接，提高效率。